<div ng-controller="SubProdutoCtrl">

<div class="container-fluid" id="tela_principal">

	<div id="mensagemErroConexao" class="alert alert-danger" style="display: none;">
	    <strong>Erro!</strong> Falha na conexão com o servidor, verifique sua internet
	</div>
	<div id="mensagemErroDesconhecido" class="alert alert-danger" style="display: none;">
	    <strong>Erro!</strong> O servidor parece estar com problema
	</div>
	<div id="mensagemErroConhecido" class="alert alert-danger" style="display: none;">
	    <strong>Erro!</strong> Falha ao deletar, verifique se este Sub Produto não está associado a algum contrato
	</div>
	<div id="mensagemSucessoInserir" class="alert alert-success" style="display: none;">
	    <strong>Sucesso!</strong> O Sub Produto foi inserido
	</div>

  <div class="container" id="plotBusca">
  	<h3>Lista de Sub-Produtos</h3>
  	  <table class="table table-dark table-hover table-responsive-sm">
	    <thead>
	      <tr>
	        <th>Nome</th>
	        <th>Produto</th>
	        <th>Apagar</th>
	      </tr>
	    </thead>
	    <tbody>
	      <tr ng-repeat="x in listaSubProdutos">
	        <td>{{x.nome}}</td>
	        <td>{{getNomeProduto(x.idCategoria)}}</td>
	        <td>
	        	<button class="btn btn-danger" style="cursor: pointer;" ng-click="apagarSubProduto(x.id);">Apagar</button> 
	        </td>
	      </tr>
	    </tbody>
	  </table>

	  <div class="row">
	  	<div class="col-sm-7">
			<div class="form-group">
				<label>Nome:</label>
				<textarea class="form-control" rows="1" ng-model="nome"></textarea>
			</div>
	  	</div>
		<div class="col-3">
			<div class="form-group">
				<label>Categoria:</label>
				<select class="custom-select" id="categoria" ng-model="idCategoria">
					<option ng-repeat="x in listaProdutos" value="{{x.id}}">{{x.nome}}</option>
				</select>
			</div>
		</div>
	  	<div class="col-sm-2">
	  		<hr>
	 		<button class="btn btn-success align-middle" style="cursor: pointer; display: block; margin-right: auto; margin-left: auto;" ng-click="criarNovo(nome,idCategoria)" ng-disabled="!funcaoInserirDisponivel">Cadastrar</button>
	  	</div>
	  </div>

  </div>

</div>

<div id='telaErroFatal' style="z-index: 99999; display: none; width: 100%; height: 100%; background-color: #f2f2f2; position: absolute; top: 0; left: 0; text-align: center; opacity: 0.9;">
	<h1 style="font-size: 5vmax; position: relative; top: 4vmax; color: rgb(173,14,10);">Falha ao carregar os dados</h1>
	<h2 style="font-size: 3vmax; position: relative; top: 4vmax; color: rgb(173,14,10);">Verifique sua conexão ou o log de erros do servidor</h2>
	<h4 style="font-size: 2vmax; position: relative; top: 4vmax; color: black;" id="telaErroFatalMensagem"></h4>
</div>
</div>
